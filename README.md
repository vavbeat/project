# AI SMM Agency - GitHub Pages Deployment Guide

## О проекте

AI SMM Agency - это сайт для автоматизированного SMM агентства, созданный с использованием Next.js. Проект оптимизирован для деплоя на GitHub Pages.

## Структура проекта

```
project/
├── index.html                 # Основной HTML файл
├── styles/
│   └── video-fix.css          # Стили для исправления видео
├── scripts/
│   ├── video-error-handler.js # Обработчик ошибок видео
│   ├── image-error-handler.js # Обработчик ошибок изображений
│   └── prepare-videos.js      # Скрипт подготовки видео
├── images/                    # Папка с изображениями
│   └── team/                  # Фото экспертов
├── public/                    # Публичные файлы
│   └── videos/                # Видео файлы
└── _next/                     # Сгенерированные Next.js файлы
```

## Проблемы с GitHub Pages

GitHub Pages имеет ограничения на работу с медиафайлами и путями. Основные проблемы:

1. **Пути к видео**: GitHub Pages требует правильных путей к видео файлам
2. **Пути к изображениям**: Изображения могут не загружаться из-за неправильных путей
3. **Абсолютные пути**: Next.js генерирует абсолютные пути, которые не работают на GitHub Pages

## Решения

### 1. Видео файлы

Для корректной работы видео на GitHub Pages:

- Видео файлы должны находиться в папке `/public/videos/`
- В HTML используются относительные пути: `/videos/filename.mp4`
- Добавлен обработчик ошибок `scripts/video-error-handler.js`

### 2. Изображения экспертов

Для корректной работы изображений:

- Изображения должны находиться в папках `/images/team/` или `/public/images/`
- Добавлен обработчик ошибок `scripts/image-error-handler.js`
- Скрипт автоматически пытается исправить пути или показывает плейсхолдер

### 3. Стили

- Добавлен файл `styles/video-fix.css` для стилизации видео контейнеров
- Стили адаптированы для GitHub Pages

## Инструкция по деплою на GitHub Pages

### Шаг 1: Настройка репозитория

1. Убедитесь, что ваш репозиторий настроен для GitHub Pages:
   - Зайдите в Settings → Pages
   - Выберите Source: Deploy from a branch
   - Выберите ветку (обычно main или master)
   - Папку оставьте / (root)

2. Настройте `next.config.js` для работы с GitHub Pages:

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  assetPrefix: process.env.NODE_ENV === 'production' ? '/your-repo-name' : '',
  output: 'export',
  trailingSlash: true,
  images: {
    unoptimized: true
  }
}

module.exports = nextConfig
```

### Шаг 2: Сборка проекта

```bash
# Установка зависимостей
npm install

# Сборка для продакшена
npm run build

# Экспорт статических файлов
npm run export
```

### Шаг 3: Копирование файлов в публичную папку

```bash
# Копируем сгенерированные файлы в корень репозитория
cp -r out/* ./

# Копируем наши скрипты и стили
cp -r scripts/ .
cp -r styles/ .

# Удаляем ненужные файлы
rm -rf out .next
```

### Шаг 4: Коммит и пуш

```bash
git add .
git commit -m "Deploy to GitHub Pages"
git push origin main
```

### Шаг 5: Проверка

После деплоя проверьте:
- Все видео загружаются корректно
- Изображения экспертов отображаются
- Стили применяются правильно
- Нет ошибок в консоли браузера

## Отладка

### Проверка путей

Откройте консоль разработчика в браузере (F12) и проверьте:

1. **Видео ошибки**: Если видео не загружаются, в консоли будет сообщение об ошибке
2. **Изображения ошибки**: Если изображения не загружаются, скрипт попытается исправить пути

### Логирование скриптов

Оба обработчика ошибок имеют логирование в консоль:

```javascript
console.log('Video Error Handler initialized');
console.log('Image Error Handler initialized');
```

Проверьте консоль на наличие этих сообщений при загрузке страницы.

## Советы по оптимизации

### 1. Оптимизация видео

- Используйте формат MP4 для максимальной совместимости
- Оптимизируйте размер видео файлов
- Используйте CDN для больших файлов

### 2. Оптимизация изображений

- Используйте WebP формат где возможно
- Оптимизируйте размер изображений
- Используйте lazy loading

### 3. Кэширование

- Добавьте заголовки кэширования для статических файлов
- Используйте хэши в именах файлов для версионирования

## Тестирование перед деплоем

1. Локально запустите сервер:
```bash
npx serve -s . -p 3000
```

2. Проверьте все страницы и медиафайлы
3. Убедитесь, что скрипты работают корректно
4. Только после этого деплоите на GitHub Pages

## Частые проблемы и решения

### Проблема: Видео не воспроизводятся

**Решение**: 
- Проверьте пути к видео файлам
- Убедитесь, что файлы находятся в `/public/videos/`
- Проверьте расширение файла (.mp4)

### Проблема: Изображения не отображаются

**Решение**:
- Проверьте пути к изображениям
- Убедитесь, что файлы находятся в `/images/` или `/public/images/`
- Проверьте права доступа к файлам

### Проблема: Стили не применяются

**Решение**:
- Проверьте путь к CSS файлу
- Убедитесь, что файл находится в `/styles/`
- Проверьте консоль на ошибки CSS

## Поддержка

Если у вас возникли проблемы с деплоем, проверьте:
1. Логи сборки проекта
2. Консоль браузера на ошибки
3. Проверьте пути к файлам
4. Убедитесь, что все файлы добавлены в git

## Лицензия

Этот проект использует стандартную лицензию MIT.
